<!-- ngFor directive used to display all returned movies -->
<!-- let movies... refers to movies var declared in comp file -->

<mat-toolbar color = "primary" class="navbar" >
    <button mat-button routerLink="/movies" class="fletnix-header">fletNix</button>
    <span><button
        class="nav-item"
        mat-button
        (click)="openProfilePage()"
    >
        Profile
    </button></span>
    <span>
        <button 
        class="nav-item"
        mat-button
        routerLink="/welcome"
        (click) = "logoutUser()"
        >
            Logout
        </button>
    </span>
</mat-toolbar>

<!-- CARDS -->

<div class = "card-container">
      <!-- This is a for loop that applies the HTML for each movie element -->
    <mat-card *ngFor="let movie of movies; let i = index" class="movie-card"> 
        <mat-card-header>
            <mat-card-title class="movie-title">{{movie.Title}}</mat-card-title>
        </mat-card-header>
        <img src={{movie.ImageUrl}} alt={{movie.Title}} />
        <mat-card-actions class = card-actions>
            <button mat-button color="primary"
            (click)="openGenreDialog(movie.Genre)">
                Genre
            </button>
            <button mat-button color="primary"
            (click)="openDirectorDialog(movie.Director)">
                Director
            </button>
            <button mat-button color="primary"
            (click)="openSynopsisDialog(movie.Description)">
                
                Synopsis
            </button>
            <div *ngIf="!isFavorite; else isFavorite">
                <button>
                    <mat-icon 
                    (click) = "addToFavorites(movie, i)"
                    >favorite</mat-icon>
                </button>
            </div>
            <ng-template #isFavorite>
                <button>
                    <mat-icon class="icon-red"
                    (click) = "removeFromFavorites(movie, i)"
                    >favorite</mat-icon>
                </button>
            </ng-template>
        </mat-card-actions>
    </mat-card>
</div>